{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../service/temp-service.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nfunction InvoiceComponent_tbody_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"th\", 11);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 12)(11, \"div\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 13);\n    i0.ɵɵlistener(\"click\", function InvoiceComponent_tbody_16_Template_div_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const invoice_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.getDetail(invoice_r1.id));\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(14, \"svg\", 14);\n    i0.ɵɵelement(15, \"path\", 15)(16, \"path\", 16);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const invoice_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(invoice_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(invoice_r1.sender);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(invoice_r1.receiver);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(invoice_r1.totalAmount);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", invoice_r1.totalPaidAmount, \" \");\n  }\n}\nexport class InvoiceComponent {\n  constructor(http, service) {\n    this.http = http;\n    this.service = service;\n    this.invoiceList = [];\n    this.detailList = [];\n    this.next = 0;\n    http.get(`http://localhost:8080/api/v1/invoices/${0}/${2}`).subscribe(elm => {\n      this.invoiceList = elm;\n      this.service.invoiceList = elm;\n    });\n  }\n  getDetail(id) {\n    this.http.get(`http://localhost:8080/api/v1/details/${id}`).subscribe(data => {\n      this.detailList = data;\n      this.service.detailList = data;\n    });\n  }\n  getNextPage() {\n    this.http.get(`http://localhost:8080/api/v1/invoices/${1}/${2}`).subscribe(elm => {\n      this.invoiceList = elm;\n      this.service.invoiceList = elm;\n    });\n  }\n  getPrePage() {\n    this.http.get(`http://localhost:8080/api/v1/invoices/${0}/${2}`).subscribe(elm => {\n      this.invoiceList = elm;\n      this.service.invoiceList = elm;\n      this.next = this.next - 1;\n    });\n  }\n}\n_class = InvoiceComponent;\n_class.ɵfac = function InvoiceComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.TempServiceService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-invoice\"]],\n  decls: 28,\n  vars: 1,\n  consts: [[1, \"p-3\"], [1, \"table\", \"table-hover\", \"table-bordered\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-end\"], [\"aria-label\", \"Page navigation example\"], [1, \"pagination\"], [1, \"page-item\", 3, \"click\"], [\"href\", \"#\", \"aria-label\", \"Previous\", 1, \"page-link\"], [\"aria-hidden\", \"true\"], [\"href\", \"#\", \"aria-label\", \"Next\", 1, \"page-link\"], [\"scope\", \"row\"], [1, \"d-flex\", \"gap-5\", \"justify-content-between\"], [\"routerLink\", \"/details\", \"id\", \"add-detail\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"20\", \"height\", \"20\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-bag-plus\"], [\"fill-rule\", \"evenodd\", \"d\", \"M8 7.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0v-1.5H6a.5.5 0 0 1 0-1h1.5V8a.5.5 0 0 1 .5-.5z\"], [\"d\", \"M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z\"]],\n  template: function InvoiceComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Invoices\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"main\", 0)(3, \"table\", 1)(4, \"thead\")(5, \"tr\")(6, \"th\", 2);\n      i0.ɵɵtext(7, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"th\", 2);\n      i0.ɵɵtext(9, \"Sender\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\", 2);\n      i0.ɵɵtext(11, \"Receiver\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\", 2);\n      i0.ɵɵtext(13, \"Total Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\", 2);\n      i0.ɵɵtext(15, \"Total Paid Amount\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(16, InvoiceComponent_tbody_16_Template, 17, 5, \"tbody\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"section\", 4)(18, \"nav\", 5)(19, \"ul\", 6)(20, \"li\", 7);\n      i0.ɵɵlistener(\"click\", function InvoiceComponent_Template_li_click_20_listener() {\n        return ctx.getPrePage();\n      });\n      i0.ɵɵelementStart(21, \"a\", 8)(22, \"span\", 9);\n      i0.ɵɵtext(23, \"\\u00AB\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(24, \"li\", 7);\n      i0.ɵɵlistener(\"click\", function InvoiceComponent_Template_li_click_24_listener() {\n        return ctx.getNextPage();\n      });\n      i0.ɵɵelementStart(25, \"a\", 10)(26, \"span\", 9);\n      i0.ɵɵtext(27, \"\\u00BB\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngForOf\", ctx.invoiceList);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.RouterLink],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","InvoiceComponent_tbody_16_Template_div_click_13_listener","restoredCtx","ɵɵrestoreView","_r3","invoice_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","getDetail","id","ɵɵnamespaceSVG","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate","sender","receiver","totalAmount","ɵɵtextInterpolate1","totalPaidAmount","InvoiceComponent","constructor","http","service","invoiceList","detailList","next","get","subscribe","elm","data","getNextPage","getPrePage","ɵɵdirectiveInject","i1","HttpClient","i2","TempServiceService","selectors","decls","vars","consts","template","InvoiceComponent_Template","rf","ctx","ɵɵtemplate","InvoiceComponent_tbody_16_Template","InvoiceComponent_Template_li_click_20_listener","InvoiceComponent_Template_li_click_24_listener","ɵɵproperty"],"sources":["/home/jabsampath/Desktop/Coding Assignment /front-end/src/app/invoice/invoice.component.ts","/home/jabsampath/Desktop/Coding Assignment /front-end/src/app/invoice/invoice.component.html"],"sourcesContent":["import {Component, Output} from '@angular/core';\nimport {HttpClient} from \"@angular/common/http\";\nimport {Invoice} from \"../dto/invoice\";\nimport {Detail} from \"../dto/detail\";\nimport {TempServiceService} from \"../service/temp-service.service\";\n\n\n@Component({\n  selector: 'app-invoice',\n  templateUrl: './invoice.component.html',\n  styleUrls: ['./invoice.component.scss']\n})\nexport class InvoiceComponent {\n\n  invoiceList:Array<Invoice>=[];\n\n  detailList:Array<Detail>=[];\n\n next:number=0;\n  constructor(private http:HttpClient,private service:TempServiceService) {\n    http.get<Array<Invoice>>(`http://localhost:8080/api/v1/invoices/${0}/${2}`).subscribe(elm=>{\n      this.invoiceList=elm;\n      this.service.invoiceList=elm;\n    })\n  }\n\n  getDetail(id: Number):void {\n    this.http.get<Array<Detail>>(`http://localhost:8080/api/v1/details/${id}`).subscribe(data=>{\n      this.detailList=data;\n      this.service.detailList=data;\n    })\n\n  }\n\n  getNextPage() {\n    this.http.get<Array<Invoice>>(`http://localhost:8080/api/v1/invoices/${1}/${2}`).subscribe(elm=>{\n      this.invoiceList=elm;\n      this.service.invoiceList=elm;\n    })\n  }\n\n  getPrePage() {\n    this.http.get<Array<Invoice>>(`http://localhost:8080/api/v1/invoices/${0}/${2}`).subscribe(elm=>{\n      this.invoiceList=elm;\n      this.service.invoiceList=elm;\n      this.next=this.next-1;\n\n    })\n\n  }\n}\n","<h1>Invoices</h1>\n\n<main class=\"p-3\">\n    <table class=\"table table-hover table-bordered\">\n          <thead>\n          <tr>\n            <th scope=\"col\">ID</th>\n            <th scope=\"col\">Sender</th>\n            <th scope=\"col\">Receiver</th>\n            <th scope=\"col\">Total Amount</th>\n            <th scope=\"col\">Total Paid Amount</th>\n          </tr>\n          </thead>\n          <tbody *ngFor=\"let invoice of invoiceList\">\n          <tr>\n            <th scope=\"row\">{{invoice.id}}</th>\n            <td>{{invoice.sender}}</td>\n            <td>{{invoice.receiver}}</td>\n            <td>{{invoice.totalAmount}}</td>\n            <td class=\"d-flex gap-5 justify-content-between\">\n              <div>\n              {{invoice.totalPaidAmount}}\n              </div>\n              <div routerLink=\"/details\"  id=\"add-detail\" (click)=\"getDetail(invoice.id)\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-bag-plus\" viewBox=\"0 0 16 16\">\n                  <path fill-rule=\"evenodd\" d=\"M8 7.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0v-1.5H6a.5.5 0 0 1 0-1h1.5V8a.5.5 0 0 1 .5-.5z\"/>\n                  <path d=\"M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z\"/>\n                </svg>\n              </div>\n            </td>\n          </tr>\n          </tbody>\n    </table>\n  <section class=\"d-flex justify-content-end\">\n      <nav aria-label=\"Page navigation example\">\n        <ul class=\"pagination\">\n          <li class=\"page-item\" (click)=\"getPrePage()\">\n            <a class=\"page-link\" href=\"#\" aria-label=\"Previous\">\n              <span aria-hidden=\"true\">&laquo;</span>\n            </a>\n          </li>\n<!--          <li class=\"page-item\"><a class=\"page-link\" href=\"#\"></a></li>-->\n<!--          <li class=\"page-item\"><a class=\"page-link\" href=\"#\"></a></li>-->\n<!--          <li class=\"page-item\"><a class=\"page-link\" href=\"#\">3</a></li>-->\n          <li class=\"page-item\" (click)=\"getNextPage()\">\n            <a class=\"page-link\" href=\"#\" aria-label=\"Next\">\n              <span aria-hidden=\"true\">&raquo;</span>\n            </a>\n          </li>\n        </ul>\n  </nav>\n  </section>\n</main>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}