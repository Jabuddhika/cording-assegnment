{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let InvoiceComponent = class InvoiceComponent {\n  constructor(http, service, router) {\n    this.http = http;\n    this.service = service;\n    this.router = router;\n    this.invoiceList = [];\n    this.pages = [];\n    this.next = 0;\n    http.get(`http://localhost:8080/api/v1/invoices/${0}/${2}`, {\n      observe: 'response'\n    }).subscribe(response => {\n      this.invoiceList = response.body;\n      const totalPages = this.invoiceList[0].pages;\n      for (let i = 0; i < 10; i = i + 2) {\n        this.pages.push(i);\n      }\n      console.log(this.pages);\n    });\n  }\n  getDetail(invoice) {\n    this.http.get(`http://localhost:8080/api/v1/details/${invoice.id}`).subscribe(data => {\n      this.service.detailList = data;\n      this.service.sender = invoice.sender;\n      this.service.receiver = invoice.receiver;\n      this.service.totalAmount = invoice.totalAmount;\n      this.router.navigate(['/details']);\n    });\n  }\n  getNextPage() {\n    this.next = this.next + 1;\n    this.http.get(`http://localhost:8080/api/v1/invoices/${this.next}/${2}`).subscribe(elm => {\n      this.invoiceList = elm;\n    });\n  }\n  getPrePage() {\n    this.next = this.next - 1;\n    if (this.next <= 0) this.next = 0;\n    this.http.get(`http://localhost:8080/api/v1/invoices/${this.next}/${2}`).subscribe(elm => {\n      this.invoiceList = elm;\n    });\n  }\n  getShortWithInvoice() {\n    this.http.get(`http://localhost:8080/api/v1/invoices/${this.next}/${2}/id`).subscribe(elm => {\n      this.invoiceList = elm;\n    });\n  }\n};\nInvoiceComponent = __decorate([Component({\n  selector: 'app-invoice',\n  templateUrl: './invoice.component.html',\n  styleUrls: ['./invoice.component.scss']\n})], InvoiceComponent);","map":{"version":3,"names":["Component","InvoiceComponent","constructor","http","service","router","invoiceList","pages","next","get","observe","subscribe","response","body","totalPages","i","push","console","log","getDetail","invoice","id","data","detailList","sender","receiver","totalAmount","navigate","getNextPage","elm","getPrePage","getShortWithInvoice","__decorate","selector","templateUrl","styleUrls"],"sources":["/home/jabsampath/Desktop/Coding Assignment /front-end/src/app/invoice/invoice.component.ts"],"sourcesContent":["import {Component, Output} from '@angular/core';\nimport {HttpClient} from \"@angular/common/http\";\nimport {Invoice} from \"../dto/invoice\";\nimport {Detail} from \"../dto/detail\";\nimport {TempServiceService} from \"../service/temp-service.service\";\nimport {Router} from \"@angular/router\";\n\n\n@Component({\n  selector: 'app-invoice',\n  templateUrl: './invoice.component.html',\n  styleUrls: ['./invoice.component.scss']\n})\nexport class InvoiceComponent {\n\n  invoiceList:Array<Invoice>=[];\n\n  pages:Array<number>=[];\n\n\n  next:number=0;\n\n  constructor(private http:HttpClient,private service:TempServiceService,private router:Router) {\n    http.get(`http://localhost:8080/api/v1/invoices/${0}/${2}`,{ observe: 'response' }).subscribe(response=>{\n      this.invoiceList=response.body as Array<Invoice>;\n      const totalPages=this.invoiceList[0].pages;\n      for (let i=0; i<10; i=i+2){\n        this.pages.push(i);\n      }\n      console.log(this.pages);\n\n    })\n  }\n\n  getDetail(invoice: Invoice):void {\n    this.http.get<Array<Detail>>(`http://localhost:8080/api/v1/details/${invoice.id}`).subscribe(data=>{\n      this.service.detailList=data;\n      this.service.sender=invoice.sender;\n      this.service.receiver=invoice.receiver;\n      this.service.totalAmount=invoice.totalAmount;\n      this.router.navigate(['/details']);\n\n    })\n\n  }\n  getNextPage() {\n    this.next=this.next+1;\n\n    this.http.get<Array<Invoice>>(`http://localhost:8080/api/v1/invoices/${this.next}/${2}`).subscribe(elm=>{\n      this.invoiceList=elm;\n    })\n  }\n\n  getPrePage() {\n    this.next=this.next-1;\n    if(this.next<=0) this.next=0;\n\n    this.http.get<Array<Invoice>>(`http://localhost:8080/api/v1/invoices/${this.next}/${2}`).subscribe(elm=>{\n      this.invoiceList=elm;\n\n    })\n\n  }\n  getShortWithInvoice() {\n    this.http.get<Array<Invoice>>(`http://localhost:8080/api/v1/invoices/${this.next}/${2}/id`).subscribe(elm=>{\n      this.invoiceList=elm;\n    })\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}